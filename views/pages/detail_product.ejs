<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>Document</title>
        <!-- CSS only -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
        <link rel="stylesheet" href="/css/detail-product.css" />
        <!-- JavaScript Bundle with Popper -->
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
          crossorigin="anonymous"
        ></script>
      </head>
<body>
  <!-- Navbar -->
  <%- include('../partials/navbar.ejs') %>
  <!-- End navbar -->

  <!-- Toast -->
  <div class="toast align-items-center d-none" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        Product successfully added to cart.
      </div>
      <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
  <!-- End Toast -->
  <!-- Product -->
  <div class="container mt-5 mb-5">
    <div class="card">
        <div class="row g-0">
            <div class="col-md-6 border-end">
                <div class="d-flex flex-column justify-content-center">
                    <div class="main_image">
                        <img src="<%= product.product_items[0].product_image %>" id="main_product_image" width="350">
                    </div>
                   
                    <div class="thumbnail_images">
                        <ul id="thumbnail">
                          <% product.product_items.forEach(item => { %>
                            <li>
                                <img onclick="changeProductImage(<%= JSON.stringify(item) %>)" src="<%= item.product_image %>" width="70">
                            </li>
                          <% }) %>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="p-3 right-side">
                    <div class="d-flex justify-content-between align-items-center">
                        <h3 id="name"><%= product.product_items[0].name %></h3>
                    </div>
                    <div class="mt-2 pr-3 content">
                        <p>
                            <%= product.description %>
                        </p>
                    </div>
                    <h3 id="price"><%= product.product_items[0].price.toLocaleString("id-ID", { style: "currency", currency: "IDR" }) %></h3>
                    <div class="sizes mt-4">
                      <h6 class="text-uppercase"><span class="fw-bold">Size</span></h6> <label class="radio"> <span id="size"><%= product.product_items[0].product_variation_options[0].value %></span></label>
                    </div>
                    <div class="quantity mt-3">
                      <h6 class="text-uppercase"><span class="fw-bold">Quantity</span></h6> <label class="radio"> <span id="quantity"><%= product.product_items[0].quantity %></span></label>
                  </div>
                  
                  <div class="buttons d-flex flex-row mt-5 gap-3">
                    <button class="btn btn-outline-dark">Buy Now</button>
                    <input id="product_item_id" type="number" name="product_item_id" value="<%=  product.product_items[0].id %>" hidden>
                    <input id="quantity" type="number" name="quantity" value="1" hidden>
                    <button class="btn btn-dark" onclick="addToCart(<%= JSON.stringify(product) %>)">Add to Cart</button>
                  </div>
                  
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Product -->

<!-- Modal login & register -->
  <%- include('../partials/login-register.ejs') %>
<!-- End Modal login & register -->

<!-- Footer -->
<%- include('../partials/footer.ejs') %>
<!-- End footer -->
<script src="/js/detail-product.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>  
</body>
</html>
